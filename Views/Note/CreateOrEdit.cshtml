@model Zephyr.Notes.NoteViewModel

@{
    Layout = Layout;
    string actionName = ViewData["actionName"].ToString();
}

<div class="wrapper">
    <h1>
        @if (actionName == "Edit")
        {
            <span>Editing Note</span>
        }
        else
        {
            <span>Creating Note</span>
        }
    </h1>
    <form asp-controller="Note" asp-action="@actionName" method="POST">
        <div class="form-group">
            <label asp-for="Title">Title</label>
            <input asp-for="Title" value="@Model?.Title"/>
        </div>
        <div class="form-group">
            <label asp-for="Content">Content</label>
            <textarea asp-for="Content">
                @Model?.Content
            </textarea>
        </div>
        @if (actionName == "Edit")
        {
            <input type="hidden" asp-for="NoteId" value="@Model?.NoteId"/>
            <input type="hidden" asp-for="Created" value="@Model?.Created"/>
        }
        @if (Model?.ErrorMessages != null)
        {
            <div>
                @foreach (string errorMessage in Model.ErrorMessages)
                {
                    <div>@errorMessage</div>
                }
            </div>
        }
        <button type="submit">Save</button>
    </form>
</div>